function json_encode(e){var t,a=this.window.JSON;try{if("object"==typeof a&&"function"==typeof a.stringify){if(t=a.stringify(e),void 0===t)throw new SyntaxError("json_encode");return t}var o=e,s=function(e){var t=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},i=function(e,t){var a="",o="    ",n=0,c="",l="",d=0,r=a,u=[],k=t[e];switch(k&&"object"==typeof k&&"function"==typeof k.toJSON&&(k=k.toJSON(e)),typeof k){case"string":return s(k);case"number":return isFinite(k)?String(k):"null";case"boolean":case"null":return String(k);case"object":if(!k)return"null";if(this.PHPJS_Resource&&k instanceof this.PHPJS_Resource||window.PHPJS_Resource&&k instanceof window.PHPJS_Resource)throw new SyntaxError("json_encode");if(a+=o,u=[],"[object Array]"===Object.prototype.toString.apply(k)){for(d=k.length,n=0;d>n;n+=1)u[n]=i(n,k)||"null";return l=0===u.length?"[]":a?"[\n"+a+u.join(",\n"+a)+"\n"+r+"]":"["+u.join(",")+"]",a=r,l}for(c in k)Object.hasOwnProperty.call(k,c)&&(l=i(c,k),l&&u.push(s(c)+(a?": ":":")+l));return l=0===u.length?"{}":a?"{\n"+a+u.join(",\n"+a)+"\n"+r+"}":"{"+u.join(",")+"}",a=r,l;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return i("",{"":o})}catch(n){if(!(n instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null}}
;var processMenu={transform:function(e,t){var a=new Array,o=$(e).attr("id").replace("menu-");return $(e+" ol > li").each(function(e){$(this).attr("data",t+"-"+e)}),$(e+" > ol > li").each(function(e){o=$(this).attr("data"),a[e]={id:o,url:$("li[data='"+o+"'] input[name='url']").val(),title:$("li[data='"+o+"'] input[name='title']").val(),rel:$("li[data='"+o+"'] input[name='rel']").val(),target:$("li[data='"+o+"'] input[name='target']").val(),extra:$("li[data='"+o+"'] input[name='extra']").val(),description:$("li[data='"+o+"'] textarea").val(),submenu:processMenu.submenu('li[data="'+o+'"]')}}),a},submenu:function(e){var t=new Array;return $(e+" > ol > li").each(function(e){id=$(this).attr("data"),t[e]={url:$("li[data='"+id+"'] input[name='url']").val(),title:$("li[data='"+id+"'] input[name='title']").val(),rel:$("li[data='"+id+"'] input[name='rel']").val(),target:$("li[data='"+id+"'] input[name='target']").val(),extra:$("li[data='"+id+"'] input[name='extra']").val(),description:$("li[data='"+id+"'] textarea").val(),submenu:processMenu.submenu('li[data="'+id+'"]')}}),t},parametrize:function(e){return e[0].toSource()}};$(document).ready(function(){var e;$("a.theme-adetails").click(function(){var t=$(this).parents(".theme-options"),a=$(t).find(".theme-details");return $(t).parents(".available-theme").toggleClass("x2"),$(a).slideToggle(300,function(){e.masonry("layout")}),!1}),$("a.theme_apreview").click(function(){var e=$(this).attr("id").replace("preview-",""),t="themes.php?action=preview&amp;dir="+e,a=$("#available-"+e+" > .available_details > h6").html(),o='<iframe src="'+t+'"></iframe>';return $("#xt-previewer > .title > span:first-child").html(a),$("#xt-previewer > .website").html(o),$("body").css("overflow","hidden"),$("#xt-previewer-blocker").fadeIn("fast",function(){$("#xt-previewer").fadeIn("fast")}),!1}),$("#xt-previewer > .title > .close, #xt-previewer-blocker").click(function(){$("#xt-previewer").fadeOut("fast",function(){$("#xt-previewer-blocker").fadeOut("fast"),$("#xt-previewer > .title > span:first-child").html(""),$("#xt-previewer > .website").html(""),$("body").css("overflow","auto")})}),$(".add-menu").click(function(){$(".xt-menus-container").each(function(e){$(this).is(":visible")&&$(this).children("ol").append($("#copy").html())})}),$("#menus-select > li > a").click(function(){$(".xt-menus-container").hide(),$("#"+$(this).attr("rel")).show(),$("#menus-select > li > a").removeClass("selected"),$(this).addClass("selected")}),$(".xt-menus-container").on("click",".menu_opt_display",function(){$(this).parent().children(".options").slideToggle("fast"),$(this).hasClass("displayed")?$(this).removeClass("displayed"):$(this).addClass("displayed")}),$(".xt-menus-container").on("click",".menu_delete",function(){confirm(lang_delete)&&$(this).parent().parent().remove()}),$("body").on("keyup",'.xt-menus-container input[name="title"]',function(){var e=$(this).parents("li").find(".title");$(e).html($(this).val())}),$("a.save-menu").click(function(){var e=new Array;new Array;$("#xt-messages").hide(),$(".xt-menus-container").each(function(t){e[t]={id:$(this).attr("id").replace("menu-",""),content:processMenu.transform("#"+$(this).attr("id"),$(this).attr("id").replace("menu-",""))}});var t=json_encode(e);$.post("navigation.php",{action:"save",params:t},function(e){$("#xt-messages > span:first-child").html(e.message),$("#xt-messages").removeClass(),$("#xt-messages").addClass(e.error?"xt-msg-error":"xt-msg-success"),$("#xt-messages").slideDown("fast")},"json")}),$("#xt-messages .close").click(function(){$("#xt-messages").slideUp("fast")}),$("ul.w_sections > li > a").click(function(){var e=$(this).attr("class").replace("section-","");return $(".xt-configuration-section").hide(),$("#xt-section-"+e).show(),$("ul.w_sections > li").removeClass("xt-section-visible"),$(this).parent().addClass("xt-section-visible"),$.cookie("xtsection",e,{expires:365}),!1}),$("ul.w_sections").parent().css("padding","0"),$("ul.w_sections").css("border-radius",$("ul.w_sections").parent().css("border-radius")),$("input[type='text'], select, textarea").addClass("input-block-level"),$("#themes-items").length>0&&(e=$("#themes-items"),e.imagesLoaded(function(){e.masonry({itemSelector:".available-theme"})})),$("#frm-settings").length>0&&void 0!=mdEditor&&mdEditor.save()});
